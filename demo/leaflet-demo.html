<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leafletåœ°å›¾æ¼”ç¤º</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
                 body {
             margin: 0;
             padding: 0;
             font-family: 'Microsoft YaHei', Arial, sans-serif;
             background: white;
             height: 100vh;
             overflow: hidden;
         }
        
                 .container {
             max-width: 100%;
             margin: 0;
             background: white;
             overflow: hidden;
         }
        
                 .header {
             display: none;
         }
        
                 .controls {
             padding: 15px;
             background: #f8f9fa;
             border-bottom: 1px solid #e9ecef;
             position: absolute;
             top: 0;
             left: 0;
             right: 0;
             z-index: 1000;
         }
        
        .control-group {
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 10px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
        }
        
        .control-group input, .control-group select, .control-group button {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .control-group button {
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .control-group button:hover {
            background: #0056b3;
        }
        
        .control-group button.danger {
            background: #dc3545;
        }
        
        .control-group button.danger:hover {
            background: #c82333;
        }
        
                 #map {
             height: 100vh;
             width: 100%;
             position: absolute;
             top: 0;
             left: 0;
         }
        
                 .info-panel {
             position: absolute;
             top: 80px;
             right: 10px;
             background: white;
             padding: 15px;
             border-radius: 8px;
             box-shadow: 0 2px 10px rgba(0,0,0,0.1);
             z-index: 1000;
             max-width: 300px;
             font-size: 14px;
         }
        
        .info-panel h3 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .info-panel p {
            margin: 5px 0;
            color: #6c757d;
        }
        
        .status {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 1000;
        }
        
                 @media (max-width: 768px) {
             .controls {
                 text-align: center;
                 padding: 10px;
             }
             
             .control-group {
                 display: block;
                 margin-bottom: 10px;
             }
             
             #map {
                 height: 100vh;
             }
             
             .info-panel {
                 top: 120px;
                 max-width: 250px;
                 font-size: 12px;
             }
         }
    </style>
</head>
<body>
         <div class="container">
         <div class="controls">
            <div class="control-group">
                <label>å›¾å±‚æº:</label>
                                 <select id="tileSource" onchange="changeTileSource()">
                     <option value="osm">OpenStreetMap (å›½å¤–)</option>
                     <option value="gaode">é«˜å¾·åœ°å›¾ (å›½å†…)</option>
                     <option value="cartodb">CartoDB (å›½å¤–)</option>
                     <option value="satellite">å«æ˜Ÿå½±åƒ (å›½å¤–)</option>
                     <option value="terrain">åœ°å½¢å›¾ (å›½å¤–)</option>
                 </select>
            </div>
            
            <div class="control-group">
                <label>æœç´¢åœ°å€:</label>
                <input type="text" id="searchInput" placeholder="è¾“å…¥åœ°å€..." style="width: 200px;">
                <button onclick="searchLocation()">æœç´¢</button>
            </div>
            
            <div class="control-group">
                <label>æ ‡è®°ç±»å‹:</label>
                <select id="markerType">
                    <option value="default">é»˜è®¤æ ‡è®°</option>
                    <option value="custom">è‡ªå®šä¹‰æ ‡è®°</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>ç»˜åˆ¶å·¥å…·:</label>
                <button id="circleBtn" onclick="startCircleDrawing()">ç»˜åˆ¶åœ†å½¢</button>
                <button id="polygonBtn" onclick="startPolygonDrawing()">ç»˜åˆ¶å¤šè¾¹å½¢</button>
                <button id="polylineBtn" onclick="startPolylineDrawing()">ç»˜åˆ¶è·¯å¾„</button>
                <button onclick="cancelDrawing()">å–æ¶ˆç»˜åˆ¶</button>
            </div>
            
            <div class="control-group">
                <button onclick="clearAll()" class="danger">æ¸…é™¤æ‰€æœ‰</button>
            </div>
        </div>
        
        <div id="map"></div>
    </div>
    
                                       <div class="info-panel">
           <h3>ğŸ“‹ åŠŸèƒ½è¯´æ˜</h3>
           <p><strong>å›¾å±‚æº:</strong> é€‰æ‹©å›½å†…æˆ–å›½å¤–åœ°å›¾æœåŠ¡</p>
           <p><strong>ç‚¹å‡»åœ°å›¾:</strong> åœ¨ç‚¹å‡»ä½ç½®æ·»åŠ æ ‡è®°</p>
           <p><strong>å›¾å±‚æ§åˆ¶:</strong> å³ä¸Šè§’æ§ä»¶åˆ‡æ¢æ ‡è®°æ˜¾ç¤º</p>
           <p><strong>æ ‡è®°äº¤äº’:</strong> é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå¼¹çª—</p>
           <p><strong>æœç´¢åŠŸèƒ½:</strong> è¾“å…¥åœ°å€è¿›è¡Œåœ°ç†ç¼–ç </p>
           <p><strong>ç»˜åˆ¶å·¥å…·:</strong> ç‚¹å‡»æŒ‰é’®å¼€å§‹ç»˜åˆ¶ï¼Œé¼ æ ‡äº¤äº’å®Œæˆç»˜åˆ¶</p>
           <p><strong>åœ†å½¢ç»˜åˆ¶:</strong> ç‚¹å‡»é€‰æ‹©åœ†å¿ƒï¼Œå†æ¬¡ç‚¹å‡»ç¡®å®šåŠå¾„</p>
           <p><strong>å¤šè¾¹å½¢ç»˜åˆ¶:</strong> ç‚¹å‡»æ·»åŠ é¡¶ç‚¹ï¼ŒåŒå‡»å®Œæˆç»˜åˆ¶</p>
           <p><strong>è·¯å¾„ç»˜åˆ¶:</strong> ç‚¹å‡»æ·»åŠ è·¯å¾„ç‚¹ï¼ŒåŒå‡»å®Œæˆç»˜åˆ¶</p>
       </div>
    
    <div class="status" id="status">å‡†å¤‡å°±ç»ª</div>
    
    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
         <script>
         // åˆå§‹åŒ–åœ°å›¾
         const map = L.map('map', {
             zoomControl: false  // ç¦ç”¨é»˜è®¤çš„ç¼©æ”¾æ§ä»¶
         }).setView([39.9042, 116.4074], 13);
         
                                       // å®šä¹‰ä¸åŒçš„å›¾å±‚æº
           const tileSources = {
               osm: {
                   url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                   attribution: 'Â© OpenStreetMap contributors',
                   name: 'OpenStreetMap'
               },
                               gaode: {
                    url: 'https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}',
                    attribution: 'Â© é«˜å¾·åœ°å›¾',
                    name: 'é«˜å¾·åœ°å›¾',
                    subdomains: '1234'
                },
               cartodb: {
                   url: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',
                   attribution: 'Â© CartoDB',
                   name: 'CartoDB'
               },
               satellite: {
                   url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
                   attribution: 'Â© Esri',
                   name: 'å«æ˜Ÿå½±åƒ'
               },
               terrain: {
                   url: 'https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png',
                   attribution: 'Â© Stamen Design',
                   name: 'åœ°å½¢å›¾'
               }
           };
         
         // å½“å‰å›¾å±‚
         let currentTileLayer;
         
         // åˆ›å»ºå›¾å±‚ç»„
         const markers = L.layerGroup();
         const shapes = L.layerGroup();
         
         // ç»˜åˆ¶çŠ¶æ€å˜é‡
         let drawingMode = null;
         let drawingShape = null;
         let drawingPoints = [];
         let circleCenter = null;
         
         // æ·»åŠ å›¾å±‚åˆ°åœ°å›¾
         markers.addTo(map);
         shapes.addTo(map);
         
         // åˆå§‹åŒ–é»˜è®¤å›¾å±‚
         function initDefaultTileLayer() {
             const options = {
                 attribution: tileSources.osm.attribution
             };
             
             // å¦‚æœå›¾æºæœ‰å­åŸŸåé…ç½®ï¼Œæ·»åŠ å­åŸŸå
             if (tileSources.osm.subdomains) {
                 options.subdomains = tileSources.osm.subdomains;
             }
             
             currentTileLayer = L.tileLayer(tileSources.osm.url, options).addTo(map);
         }
         
         // åˆ‡æ¢å›¾å±‚æº
         function changeTileSource() {
             const source = document.getElementById('tileSource').value;
             const tileSource = tileSources[source];
             
             // ç§»é™¤å½“å‰å›¾å±‚
             if (currentTileLayer) {
                 map.removeLayer(currentTileLayer);
             }
             
             // æ·»åŠ æ–°å›¾å±‚
             const options = {
                 attribution: tileSource.attribution
             };
             
             // å¦‚æœå›¾æºæœ‰å­åŸŸåé…ç½®ï¼Œæ·»åŠ å­åŸŸå
             if (tileSource.subdomains) {
                 options.subdomains = tileSource.subdomains;
             }
             
             currentTileLayer = L.tileLayer(tileSource.url, options).addTo(map);
             
             updateStatus(`å·²åˆ‡æ¢åˆ°${tileSource.name}`);
         }
         
         // åˆå§‹åŒ–é»˜è®¤å›¾å±‚
         initDefaultTileLayer();
        
                 // æ·»åŠ ä¸€äº›ç¤ºä¾‹æ ‡è®°
         const cities = [
             { name: "åŒ—äº¬å¤©å®‰é—¨", lat: 39.9042, lng: 116.4074 },
             { name: "ä¸Šæµ·å¤–æ»©", lat: 31.2304, lng: 121.4737 },
             { name: "å¹¿å·å¡”", lat: 23.1291, lng: 113.2644 },
             { name: "æ·±åœ³å¹³å®‰é‡‘èä¸­å¿ƒ", lat: 22.5431, lng: 114.0579 }
         ];
         
         // æ·»åŠ å›¾å±‚æ§åˆ¶
         const overlayMaps = {
             "æ ‡è®°ç‚¹": markers,
             "å‡ ä½•å›¾å½¢": shapes
         };
         
         L.control.layers(null, overlayMaps).addTo(map);
        
        cities.forEach(city => {
            const marker = L.marker([city.lat, city.lng])
                .bindPopup(`<b>${city.name}</b><br>åæ ‡: ${city.lat}, ${city.lng}`)
                .addTo(markers);
            
            // æ·»åŠ é¼ æ ‡æ‚¬åœäº‹ä»¶
            marker.on('mouseover', function() {
                this.openPopup();
            });
        });
        
        // åœ°å›¾ç‚¹å‡»äº‹ä»¶
        map.on('click', function(e) {
            const lat = e.latlng.lat;
            const lng = e.latlng.lng;
            
            // å¦‚æœæ­£åœ¨ç»˜åˆ¶æ¨¡å¼ï¼Œå¤„ç†ç»˜åˆ¶é€»è¾‘
            if (drawingMode) {
                handleMapClick(e);
                return;
            }
            
            updateStatus(`ç‚¹å‡»ä½ç½®: ${lat.toFixed(4)}, ${lng.toFixed(4)}`);
            
            // æ ¹æ®é€‰æ‹©çš„æ ‡è®°ç±»å‹åˆ›å»ºæ ‡è®°
            const markerType = document.getElementById('markerType').value;
            let marker;
            
            if (markerType === 'custom') {
                // åˆ›å»ºè‡ªå®šä¹‰å›¾æ ‡
                const customIcon = L.divIcon({
                    className: 'custom-marker',
                    html: 'ğŸ“',
                    iconSize: [30, 30],
                    iconAnchor: [15, 30]
                });
                
                marker = L.marker([lat, lng], { icon: customIcon });
            } else {
                marker = L.marker([lat, lng]);
            }
            
            marker.bindPopup(`<b>æ–°æ ‡è®°</b><br>åæ ‡: ${lat.toFixed(4)}, ${lng.toFixed(4)}`)
                .addTo(markers);
        });
        
        // åœ°å›¾åŒå‡»äº‹ä»¶
        map.on('dblclick', function(e) {
            if (drawingMode) {
                handleMapDoubleClick(e);
                return;
            }
        });
        
        // åœ°å›¾ç§»åŠ¨äº‹ä»¶
        map.on('moveend', function() {
            const center = map.getCenter();
            updateStatus(`åœ°å›¾ä¸­å¿ƒ: ${center.lat.toFixed(4)}, ${center.lng.toFixed(4)}`);
        });
        
        // åœ°å›¾é¼ æ ‡ç§»åŠ¨äº‹ä»¶ - ç”¨äºåœ†å½¢ç»˜åˆ¶çš„å®æ—¶é¢„è§ˆ
        map.on('mousemove', function(e) {
            if (drawingMode === 'circle' && circleCenter && drawingShape) {
                const radius = circleCenter.distanceTo(e.latlng);
                drawingShape.setRadius(radius);
                updateStatus(`åœ†å½¢åŠå¾„: ${Math.round(radius)} ç±³`);
            }
        });
        
        // æœç´¢åŠŸèƒ½
        async function searchLocation() {
            const address = document.getElementById('searchInput').value;
            if (!address) {
                alert('è¯·è¾“å…¥åœ°å€');
                return;
            }
            
            updateStatus('æ­£åœ¨æœç´¢...');
            
            try {
                const response = await fetch(
                    `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&limit=1`
                );
                const data = await response.json();
                
                if (data.length > 0) {
                    const location = data[0];
                    const lat = parseFloat(location.lat);
                    const lng = parseFloat(location.lon);
                    
                    // ç§»åŠ¨åˆ°æœç´¢ä½ç½®
                    map.setView([lat, lng], 15);
                    
                    // æ·»åŠ æ ‡è®°
                    const marker = L.marker([lat, lng])
                        .bindPopup(`<b>${address}</b><br>åæ ‡: ${lat}, ${lng}`)
                        .addTo(markers);
                    
                    updateStatus(`æ‰¾åˆ°ä½ç½®: ${address}`);
                } else {
                    alert('æœªæ‰¾åˆ°è¯¥åœ°å€');
                    updateStatus('æœç´¢å¤±è´¥');
                }
            } catch (error) {
                console.error('æœç´¢é”™è¯¯:', error);
                alert('æœç´¢å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
                updateStatus('æœç´¢å¤±è´¥');
            }
        }
        
        // æ·»åŠ åœ†å½¢
        function addCircle() {
            const center = map.getCenter();
            const circle = L.circle([center.lat, center.lng], {
                color: 'red',
                fillColor: '#f03',
                fillOpacity: 0.5,
                radius: 5000
            }).addTo(shapes);
            
            circle.bindPopup('è¿™æ˜¯ä¸€ä¸ªåœ†å½¢åŒºåŸŸ');
            updateStatus('å·²æ·»åŠ åœ†å½¢');
        }
        
        // æ·»åŠ å¤šè¾¹å½¢
        function addPolygon() {
            const center = map.getCenter();
            const polygon = L.polygon([
                [center.lat + 0.01, center.lng - 0.01],
                [center.lat + 0.01, center.lng + 0.01],
                [center.lat - 0.01, center.lng + 0.01],
                [center.lat - 0.01, center.lng - 0.01]
            ], {
                color: 'blue',
                fillColor: '#03f',
                fillOpacity: 0.3
            }).addTo(shapes);
            
            polygon.bindPopup('è¿™æ˜¯ä¸€ä¸ªå¤šè¾¹å½¢åŒºåŸŸ');
            updateStatus('å·²æ·»åŠ å¤šè¾¹å½¢');
        }
        
        // æ·»åŠ è·¯å¾„
        function addPolyline() {
            const center = map.getCenter();
            const polyline = L.polyline([
                [center.lat - 0.01, center.lng - 0.01],
                [center.lat, center.lng],
                [center.lat + 0.01, center.lng + 0.01]
            ], {
                color: 'green',
                weight: 4
            }).addTo(shapes);
            
            polyline.bindPopup('è¿™æ˜¯ä¸€æ¡è·¯å¾„');
            updateStatus('å·²æ·»åŠ è·¯å¾„');
        }

        // å¼€å§‹ç»˜åˆ¶åœ†å½¢
        function startCircleDrawing() {
            cancelDrawing();
            drawingMode = 'circle';
            updateStatus('ç‚¹å‡»åœ°å›¾é€‰æ‹©åœ†å¿ƒï¼Œå†æ¬¡ç‚¹å‡»ç¡®å®šåŠå¾„');
            updateButtonStates();
        }
        
        // å¼€å§‹ç»˜åˆ¶å¤šè¾¹å½¢
        function startPolygonDrawing() {
            cancelDrawing();
            drawingMode = 'polygon';
            drawingPoints = [];
            updateStatus('ç‚¹å‡»åœ°å›¾æ·»åŠ å¤šè¾¹å½¢é¡¶ç‚¹ï¼ŒåŒå‡»å®Œæˆç»˜åˆ¶');
            updateButtonStates();
        }
        
        // å¼€å§‹ç»˜åˆ¶è·¯å¾„
        function startPolylineDrawing() {
            cancelDrawing();
            drawingMode = 'polyline';
            drawingPoints = [];
            updateStatus('ç‚¹å‡»åœ°å›¾æ·»åŠ è·¯å¾„ç‚¹ï¼ŒåŒå‡»å®Œæˆç»˜åˆ¶');
            updateButtonStates();
        }
        
        // å–æ¶ˆç»˜åˆ¶
        function cancelDrawing() {
            drawingMode = null;
            drawingShape = null;
            drawingPoints = [];
            circleCenter = null;
            
            // ç§»é™¤ä¸´æ—¶ç»˜åˆ¶å›¾å½¢
            if (drawingShape) {
                map.removeLayer(drawingShape);
                drawingShape = null;
            }
            
            updateStatus('å·²å–æ¶ˆç»˜åˆ¶');
            updateButtonStates();
        }
        
        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        function updateButtonStates() {
            const circleBtn = document.getElementById('circleBtn');
            const polygonBtn = document.getElementById('polygonBtn');
            const polylineBtn = document.getElementById('polylineBtn');
            
            if (drawingMode === 'circle') {
                circleBtn.style.background = '#28a745';
                circleBtn.style.color = 'white';
                polygonBtn.style.background = '#007bff';
                polygonBtn.style.color = 'white';
                polylineBtn.style.background = '#007bff';
                polylineBtn.style.color = 'white';
            } else if (drawingMode === 'polygon') {
                circleBtn.style.background = '#007bff';
                circleBtn.style.color = 'white';
                polygonBtn.style.background = '#28a745';
                polygonBtn.style.color = 'white';
                polylineBtn.style.background = '#007bff';
                polylineBtn.style.color = 'white';
            } else if (drawingMode === 'polyline') {
                circleBtn.style.background = '#007bff';
                circleBtn.style.color = 'white';
                polygonBtn.style.background = '#007bff';
                polygonBtn.style.color = 'white';
                polylineBtn.style.background = '#28a745';
                polylineBtn.style.color = 'white';
            } else {
                circleBtn.style.background = '#007bff';
                circleBtn.style.color = 'white';
                polygonBtn.style.background = '#007bff';
                polygonBtn.style.color = 'white';
                polylineBtn.style.background = '#007bff';
                polylineBtn.style.color = 'white';
            }
        }
        
        // å¤„ç†åœ°å›¾ç‚¹å‡»äº‹ä»¶
        function handleMapClick(e) {
            if (!drawingMode) return;
            
            const latlng = e.latlng;
            
            if (drawingMode === 'circle') {
                if (!circleCenter) {
                    // ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼Œè®¾ç½®åœ†å¿ƒ
                    circleCenter = latlng;
                    drawingShape = L.circle(latlng, {
                        color: 'red',
                        fillColor: '#f03',
                        fillOpacity: 0.5,
                        radius: 0
                    }).addTo(map);
                    updateStatus('å†æ¬¡ç‚¹å‡»ç¡®å®šåŠå¾„');
                                 } else {
                     // ç¬¬äºŒæ¬¡ç‚¹å‡»ï¼Œç¡®å®šåŠå¾„
                     const radius = circleCenter.distanceTo(latlng);
                     drawingShape.setRadius(radius);
                     drawingShape.addTo(shapes);
                     drawingShape.bindPopup('è¿™æ˜¯ä¸€ä¸ªåœ†å½¢åŒºåŸŸ');
                     
                     updateStatus('åœ†å½¢ç»˜åˆ¶å®Œæˆ');
                     cancelDrawing();
                 }
            } else if (drawingMode === 'polygon') {
                drawingPoints.push(latlng);
                
                if (drawingShape) {
                    map.removeLayer(drawingShape);
                }
                
                drawingShape = L.polygon(drawingPoints, {
                    color: 'blue',
                    fillColor: '#03f',
                    fillOpacity: 0.3
                }).addTo(map);
                
                updateStatus(`å¤šè¾¹å½¢é¡¶ç‚¹: ${drawingPoints.length} ä¸ªï¼ŒåŒå‡»å®Œæˆç»˜åˆ¶`);
            } else if (drawingMode === 'polyline') {
                drawingPoints.push(latlng);
                
                if (drawingShape) {
                    map.removeLayer(drawingShape);
                }
                
                drawingShape = L.polyline(drawingPoints, {
                    color: 'green',
                    weight: 4
                }).addTo(map);
                
                updateStatus(`è·¯å¾„ç‚¹: ${drawingPoints.length} ä¸ªï¼ŒåŒå‡»å®Œæˆç»˜åˆ¶`);
            }
        }
        
        // å¤„ç†åœ°å›¾åŒå‡»äº‹ä»¶
        function handleMapDoubleClick(e) {
            if (!drawingMode || drawingMode === 'circle') return;
            
            if (drawingMode === 'polygon' && drawingPoints.length >= 3) {
                drawingShape.addTo(shapes);
                drawingShape.bindPopup('è¿™æ˜¯ä¸€ä¸ªå¤šè¾¹å½¢åŒºåŸŸ');
                map.removeLayer(drawingShape);
                updateStatus('å¤šè¾¹å½¢ç»˜åˆ¶å®Œæˆ');
                cancelDrawing();
            } else if (drawingMode === 'polyline' && drawingPoints.length >= 2) {
                drawingShape.addTo(shapes);
                drawingShape.bindPopup('è¿™æ˜¯ä¸€æ¡è·¯å¾„');
                map.removeLayer(drawingShape);
                updateStatus('è·¯å¾„ç»˜åˆ¶å®Œæˆ');
                cancelDrawing();
            }
        }
        
        // æ¸…é™¤æ‰€æœ‰
        function clearAll() {
            markers.clearLayers();
            shapes.clearLayers();
            
            // é‡æ–°æ·»åŠ ç¤ºä¾‹æ ‡è®°
            cities.forEach(city => {
                const marker = L.marker([city.lat, city.lng])
                    .bindPopup(`<b>${city.name}</b><br>åæ ‡: ${city.lat}, ${city.lng}`)
                    .addTo(markers);
                
                marker.on('mouseover', function() {
                    this.openPopup();
                });
            });
            
            updateStatus('å·²æ¸…é™¤æ‰€æœ‰æ ‡è®°å’Œå›¾å½¢');
        }
        
        // æ›´æ–°çŠ¶æ€
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
        }
        
        // å›è½¦é”®æœç´¢
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchLocation();
            }
        });
        
        // åˆå§‹åŒ–çŠ¶æ€
        updateStatus('åœ°å›¾å·²åŠ è½½å®Œæˆ');
    </script>
</body>
</html> 