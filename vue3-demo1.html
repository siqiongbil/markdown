<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue3 å­¦ä¹ ç¬”è®° Demo</title>
    <!-- Vue3 CDN - ä½¿ç”¨ç¨³å®šç‰ˆæœ¬ -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js" onerror="loadBackupVue()"></script>
    <script>
        // å¤‡ç”¨CDNåŠ è½½å‡½æ•°
        function loadBackupVue() {
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js';
            script.onerror = function() {
                // å¦‚æœä¸¤ä¸ªCDNéƒ½å¤±è´¥ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                alert('æ— æ³•åŠ è½½Vue.jsï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–å°è¯•å…¶ä»–æ–¹å¼è¿è¡Œ');
            };
            document.head.appendChild(script);
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .demo-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .demo-title {
            color: #4f46e5;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 8px;
        }

        .demo-content {
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #374151;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #4f46e5;
        }

        .btn {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result {
            background: #f8fafc;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #4f46e5;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
        }

        .counter {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .counter-display {
            font-size: 2rem;
            font-weight: bold;
            color: #4f46e5;
            min-width: 60px;
            text-align: center;
        }

        .todo-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            margin-bottom: 10px;
            background: #f9fafb;
        }

        .todo-item.completed {
            text-decoration: line-through;
            opacity: 0.6;
        }

        .book-list {
            list-style: none;
        }

        .book-list li {
            background: #f0f9ff;
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 4px;
            border-left: 3px solid #0ea5e9;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-online { background-color: #10b981; }
        .status-offline { background-color: #ef4444; }
        .status-away { background-color: #f59e0b; }

        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .counter {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- é¡µé¢å¤´éƒ¨ -->
            <div class="header">
                <h1>ğŸ¯ Vue3 å­¦ä¹ ç¬”è®° Demo</h1>
                <p>å®è·µ Vue3 çš„æ ¸å¿ƒç‰¹æ€§å’Œç»„åˆå¼API</p>
            </div>

            <!-- Demo ç½‘æ ¼å¸ƒå±€ -->
            <div class="demo-grid">
                <!-- 1. å“åº”å¼ç³»ç»Ÿ - ref & reactive -->
                <div class="demo-card">
                    <h3 class="demo-title">ğŸ“Š å“åº”å¼ç³»ç»Ÿ</h3>
                    <div class="demo-content">
                        <div class="input-group">
                            <label>æ¶ˆæ¯ (ref):</label>
                            <input v-model="message" placeholder="è¾“å…¥æ¶ˆæ¯...">
                        </div>
                        <div class="result">
                            <strong>å½“å‰æ¶ˆæ¯:</strong> {{ message }}
                        </div>
                        
                        <div class="input-group" style="margin-top: 15px;">
                            <label>ç”¨æˆ·å (reactive):</label>
                            <input v-model="user.name" placeholder="è¾“å…¥ç”¨æˆ·å...">
                        </div>
                        <div class="input-group">
                            <label>å¹´é¾„:</label>
                            <input v-model.number="user.age" type="number" placeholder="è¾“å…¥å¹´é¾„...">
                        </div>
                        <div class="result">
                            <strong>ç”¨æˆ·ä¿¡æ¯:</strong> {{ user.name }}, {{ user.age }}å²
                        </div>
                    </div>
                </div>

                <!-- 2. è®¡æ•°å™¨ - äº‹ä»¶å¤„ç† -->
                <div class="demo-card">
                    <h3 class="demo-title">ğŸ”¢ è®¡æ•°å™¨ & äº‹ä»¶å¤„ç†</h3>
                    <div class="demo-content">
                        <div class="counter">
                            <button class="btn" @click="decrement">-</button>
                            <div class="counter-display">{{ count }}</div>
                            <button class="btn" @click="increment">+</button>
                        </div>
                        <div style="text-align: center;">
                            <button class="btn" @click="reset">é‡ç½®</button>
                            <button class="btn" @click="addTen">+10</button>
                        </div>
                        <div class="result">
                            <strong>æ“ä½œå†å²:</strong> {{ operationHistory.join(' â†’ ') }}
                        </div>
                    </div>
                </div>

                <!-- 3. è®¡ç®—å±æ€§ -->
                <div class="demo-card">
                    <h3 class="demo-title">âš¡ è®¡ç®—å±æ€§</h3>
                    <div class="demo-content">
                        <div class="input-group">
                            <label>åå­—:</label>
                            <input v-model="firstName" placeholder="è¾“å…¥åå­—...">
                        </div>
                        <div class="input-group">
                            <label>å§“æ°:</label>
                            <input v-model="lastName" placeholder="è¾“å…¥å§“æ°...">
                        </div>
                        <div class="result">
                            <strong>å…¨å:</strong> {{ fullName }}
                        </div>
                        <div class="result">
                            <strong>å…¨åé•¿åº¦:</strong> {{ fullNameLength }} ä¸ªå­—ç¬¦
                        </div>
                        <div class="result">
                            <strong>åè½¬å…¨å:</strong> {{ reversedFullName }}
                        </div>
                    </div>
                </div>

                <!-- 4. åˆ—è¡¨æ¸²æŸ“ & v-for -->
                <div class="demo-card">
                    <h3 class="demo-title">ğŸ“‹ Todo åˆ—è¡¨</h3>
                    <div class="demo-content">
                        <div class="input-group">
                            <input v-model="newTodo" @keyup.enter="addTodo" placeholder="æŒ‰å›è½¦æ·»åŠ å¾…åŠäº‹é¡¹...">
                        </div>
                        <button class="btn" @click="addTodo">æ·»åŠ </button>
                        <button class="btn" @click="clearCompleted">æ¸…é™¤å·²å®Œæˆ</button>
                        
                        <div style="margin-top: 15px;">
                            <div v-for="(todo, index) in todos" :key="todo.id" class="todo-item" :class="{ completed: todo.completed }">
                                <input type="checkbox" v-model="todo.completed">
                                <span style="flex: 1;">{{ todo.text }}</span>
                                <button class="btn" style="padding: 5px 10px; font-size: 12px;" @click="removeTodo(index)">åˆ é™¤</button>
                            </div>
                        </div>
                        
                        <div class="result">
                            <strong>ç»Ÿè®¡:</strong> æ€»å…± {{ todos.length }} é¡¹ï¼Œå·²å®Œæˆ {{ completedCount }} é¡¹ï¼Œå¾…åŠ {{ remainingCount }} é¡¹
                        </div>
                    </div>
                </div>

                <!-- 5. è¡¨å•ç»‘å®š & v-model -->
                <div class="demo-card">
                    <h3 class="demo-title">ğŸ“ è¡¨å•ç»‘å®š</h3>
                    <div class="demo-content">
                        <div class="input-group">
                            <label>å•é€‰æ¡†:</label>
                            <div>
                                <label><input type="radio" v-model="selectedOption" value="é€‰é¡¹A"> é€‰é¡¹A</label>
                                <label style="margin-left: 15px;"><input type="radio" v-model="selectedOption" value="é€‰é¡¹B"> é€‰é¡¹B</label>
                                <label style="margin-left: 15px;"><input type="radio" v-model="selectedOption" value="é€‰é¡¹C"> é€‰é¡¹C</label>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>å¤é€‰æ¡†:</label>
                            <div>
                                <label><input type="checkbox" v-model="hobbies" value="è¯»ä¹¦"> è¯»ä¹¦</label>
                                <label style="margin-left: 15px;"><input type="checkbox" v-model="hobbies" value="éŸ³ä¹"> éŸ³ä¹</label>
                                <label style="margin-left: 15px;"><input type="checkbox" v-model="hobbies" value="è¿åŠ¨"> è¿åŠ¨</label>
                                <label style="margin-left: 15px;"><input type="checkbox" v-model="hobbies" value="æ—…è¡Œ"> æ—…è¡Œ</label>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>ä¸‹æ‹‰é€‰æ‹©:</label>
                            <select v-model="selectedCity">
                                <option value="">è¯·é€‰æ‹©åŸå¸‚</option>
                                <option value="åŒ—äº¬">åŒ—äº¬</option>
                                <option value="ä¸Šæµ·">ä¸Šæµ·</option>
                                <option value="å¹¿å·">å¹¿å·</option>
                                <option value="æ·±åœ³">æ·±åœ³</option>
                            </select>
                        </div>
                        
                        <div class="result">
                            <strong>è¡¨å•æ•°æ®:</strong><br>
                            é€‰é¡¹: {{ selectedOption }}<br>
                            çˆ±å¥½: {{ hobbies.join(', ') }}<br>
                            åŸå¸‚: {{ selectedCity }}
                        </div>
                    </div>
                </div>

                <!-- 6. ä¾¦å¬å™¨ -->
                <div class="demo-card">
                    <h3 class="demo-title">ğŸ‘€ ä¾¦å¬å™¨</h3>
                    <div class="demo-content">
                        <div class="input-group">
                            <label>æœç´¢é—®é¢˜ (åŒ…å«'?'ä¼šè§¦å‘æœç´¢):</label>
                            <input v-model="question" placeholder="è¾“å…¥åŒ…å«é—®å·çš„é—®é¢˜...">
                        </div>
                        
                        <div class="input-group">
                            <label>ç”¨æˆ·çŠ¶æ€:</label>
                            <select v-model="userStatus">
                                <option value="online">åœ¨çº¿</option>
                                <option value="offline">ç¦»çº¿</option>
                                <option value="away">ç¦»å¼€</option>
                            </select>
                        </div>
                        
                        <div class="result">
                            <strong>æœç´¢ç»“æœ:</strong> {{ answer }}
                        </div>
                        
                        <div class="result">
                            <strong>çŠ¶æ€å†å²:</strong>
                            <div v-for="log in statusLogs" :key="log.id" style="margin: 5px 0;">
                                <span class="status-indicator" :class="`status-${log.status}`"></span>
                                {{ log.message }}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 7. æ¡ä»¶æ¸²æŸ“ -->
                <div class="demo-card">
                    <h3 class="demo-title">ğŸ­ æ¡ä»¶æ¸²æŸ“</h3>
                    <div class="demo-content">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <button class="btn" @click="toggleVisibility">{{ isVisible ? 'éšè—' : 'æ˜¾ç¤º' }}å†…å®¹</button>
                            <button class="btn" @click="switchView">åˆ‡æ¢è§†å›¾</button>
                        </div>
                        
                        <div v-if="isVisible" class="result">
                            <div v-if="currentView === 'profile'">
                                <h4>ğŸ‘¤ ç”¨æˆ·èµ„æ–™</h4>
                                <p>è¿™æ˜¯ç”¨æˆ·èµ„æ–™é¡µé¢</p>
                            </div>
                            <div v-else-if="currentView === 'settings'">
                                <h4>âš™ï¸ è®¾ç½®é¡µé¢</h4>
                                <p>è¿™æ˜¯è®¾ç½®é¡µé¢</p>
                            </div>
                            <div v-else>
                                <h4>ğŸ  é¦–é¡µ</h4>
                                <p>æ¬¢è¿æ¥åˆ°é¦–é¡µ</p>
                            </div>
                        </div>
                        
                        <div v-else class="result">
                            <p style="color: #6b7280;">å†…å®¹å·²éšè— ğŸ™ˆ</p>
                        </div>
                    </div>
                </div>

                <!-- 8. å›¾ä¹¦ç®¡ç†ç¤ºä¾‹ -->
                <div class="demo-card">
                    <h3 class="demo-title">ğŸ“š å›¾ä¹¦ç®¡ç†</h3>
                    <div class="demo-content">
                        <div class="input-group">
                            <label>æ·»åŠ å›¾ä¹¦:</label>
                            <input v-model="newBook" @keyup.enter="addBook" placeholder="è¾“å…¥ä¹¦å...">
                        </div>
                        <button class="btn" @click="addBook">æ·»åŠ å›¾ä¹¦</button>
                        
                        <div style="margin-top: 15px;">
                            <strong>å›¾ä¹¦åˆ—è¡¨ ({{ books.length }} æœ¬):</strong>
                            <ul class="book-list">
                                <li v-for="(book, index) in books" :key="index">
                                    {{ book }}
                                    <button class="btn" style="float: right; padding: 2px 8px; font-size: 12px;" @click="removeBook(index)">åˆ é™¤</button>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="result">
                            <strong>å›¾ä¹¦ç»Ÿè®¡:</strong> {{ booksMessage }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç¡®ä¿VueåŠ è½½å®Œæˆåå†åˆå§‹åŒ–åº”ç”¨
        function initApp() {
            if (typeof Vue === 'undefined') {
                console.error('Vue.js æœªèƒ½æ­£ç¡®åŠ è½½ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
                document.getElementById('app').innerHTML = '<div style="text-align: center; padding: 50px; color: red;"><h2>âŒ Vue.js åŠ è½½å¤±è´¥</h2><p>è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥å¹¶åˆ·æ–°é¡µé¢é‡è¯•</p></div>';
                return;
            }

            const { createApp, ref, reactive, computed, watch, watchEffect } = Vue;

            createApp({
            setup() {
                // å“åº”å¼æ•°æ®
                const message = ref('Hello Vue3!');
                const user = reactive({
                    name: 'Vueå¼€å‘è€…',
                    age: 25
                });

                // è®¡æ•°å™¨
                const count = ref(0);
                const operationHistory = ref(['0']);

                const increment = () => {
                    count.value++;
                    operationHistory.value.push(`+1=${count.value}`);
                    if (operationHistory.value.length > 5) {
                        operationHistory.value.shift();
                    }
                };

                const decrement = () => {
                    count.value--;
                    operationHistory.value.push(`-1=${count.value}`);
                    if (operationHistory.value.length > 5) {
                        operationHistory.value.shift();
                    }
                };

                const reset = () => {
                    count.value = 0;
                    operationHistory.value = ['é‡ç½®=0'];
                };

                const addTen = () => {
                    count.value += 10;
                    operationHistory.value.push(`+10=${count.value}`);
                    if (operationHistory.value.length > 5) {
                        operationHistory.value.shift();
                    }
                };

                // è®¡ç®—å±æ€§
                const firstName = ref('å¼ ');
                const lastName = ref('ä¸‰');

                const fullName = computed(() => {
                    return firstName.value + lastName.value;
                });

                const fullNameLength = computed(() => {
                    return fullName.value.length;
                });

                const reversedFullName = computed(() => {
                    return fullName.value.split('').reverse().join('');
                });

                // Todoåˆ—è¡¨
                const todos = ref([
                    { id: 1, text: 'å­¦ä¹ Vue3åŸºç¡€', completed: true },
                    { id: 2, text: 'æŒæ¡ç»„åˆå¼API', completed: false },
                    { id: 3, text: 'æ„å»ºå®é™…é¡¹ç›®', completed: false }
                ]);
                const newTodo = ref('');

                const addTodo = () => {
                    if (newTodo.value.trim()) {
                        todos.value.push({
                            id: Date.now(),
                            text: newTodo.value,
                            completed: false
                        });
                        newTodo.value = '';
                    }
                };

                const removeTodo = (index) => {
                    todos.value.splice(index, 1);
                };

                const clearCompleted = () => {
                    todos.value = todos.value.filter(todo => !todo.completed);
                };

                const completedCount = computed(() => {
                    return todos.value.filter(todo => todo.completed).length;
                });

                const remainingCount = computed(() => {
                    return todos.value.filter(todo => !todo.completed).length;
                });

                // è¡¨å•ç»‘å®š
                const selectedOption = ref('é€‰é¡¹A');
                const hobbies = ref(['è¯»ä¹¦']);
                const selectedCity = ref('åŒ—äº¬');

                // ä¾¦å¬å™¨
                const question = ref('');
                const answer = ref('é—®é¢˜é€šå¸¸åŒ…å«é—®å· ğŸ˜Š');
                const userStatus = ref('online');
                const statusLogs = ref([
                    { id: 1, status: 'online', message: 'ç”¨æˆ·ä¸Šçº¿ - ' + new Date().toLocaleTimeString() }
                ]);

                // ç›‘å¬é—®é¢˜å˜åŒ–
                watch(question, (newQuestion) => {
                    if (newQuestion.indexOf('?') > -1) {
                        answer.value = 'æ­£åœ¨æ€è€ƒä¸­...';
                        setTimeout(() => {
                            const responses = [
                                'è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼',
                                'ç­”æ¡ˆå¯èƒ½æ˜¯è‚¯å®šçš„ âœ…',
                                'è¿™éœ€è¦è¿›ä¸€æ­¥æ€è€ƒ ğŸ¤”',
                                'ç­”æ¡ˆåœ¨Vueæ–‡æ¡£ä¸­å¯ä»¥æ‰¾åˆ° ğŸ“š'
                            ];
                            answer.value = responses[Math.floor(Math.random() * responses.length)];
                        }, 1000);
                    } else {
                        answer.value = 'è¯·è¾“å…¥åŒ…å«é—®å·çš„é—®é¢˜';
                    }
                });

                // ç›‘å¬ç”¨æˆ·çŠ¶æ€å˜åŒ–
                watch(userStatus, (newStatus, oldStatus) => {
                    const statusText = {
                        online: 'åœ¨çº¿',
                        offline: 'ç¦»çº¿',
                        away: 'ç¦»å¼€'
                    };
                    
                    statusLogs.value.push({
                        id: Date.now(),
                        status: newStatus,
                        message: `çŠ¶æ€ä» "${statusText[oldStatus]}" å˜æ›´ä¸º "${statusText[newStatus]}" - ${new Date().toLocaleTimeString()}`
                    });
                    
                    if (statusLogs.value.length > 3) {
                        statusLogs.value.shift();
                    }
                });

                // æ¡ä»¶æ¸²æŸ“
                const isVisible = ref(true);
                const currentView = ref('home');
                const views = ['home', 'profile', 'settings'];

                const toggleVisibility = () => {
                    isVisible.value = !isVisible.value;
                };

                const switchView = () => {
                    const currentIndex = views.indexOf(currentView.value);
                    currentView.value = views[(currentIndex + 1) % views.length];
                };

                // å›¾ä¹¦ç®¡ç†
                const books = ref([
                    'Vue.js è®¾è®¡ä¸å®ç°',
                    'JavaScripté«˜çº§ç¨‹åºè®¾è®¡',
                    'TypeScriptç¼–ç¨‹'
                ]);
                const newBook = ref('');

                const addBook = () => {
                    if (newBook.value.trim()) {
                        books.value.push(newBook.value);
                        newBook.value = '';
                    }
                };

                const removeBook = (index) => {
                    books.value.splice(index, 1);
                };

                const booksMessage = computed(() => {
                    return books.value.length > 0 ? `å…±æœ‰ ${books.value.length} æœ¬å›¾ä¹¦` : 'æš‚æ— å›¾ä¹¦';
                });

                return {
                    // å“åº”å¼ç³»ç»Ÿ
                    message,
                    user,
                    
                    // è®¡æ•°å™¨
                    count,
                    operationHistory,
                    increment,
                    decrement,
                    reset,
                    addTen,
                    
                    // è®¡ç®—å±æ€§
                    firstName,
                    lastName,
                    fullName,
                    fullNameLength,
                    reversedFullName,
                    
                    // Todoåˆ—è¡¨
                    todos,
                    newTodo,
                    addTodo,
                    removeTodo,
                    clearCompleted,
                    completedCount,
                    remainingCount,
                    
                    // è¡¨å•ç»‘å®š
                    selectedOption,
                    hobbies,
                    selectedCity,
                    
                    // ä¾¦å¬å™¨
                    question,
                    answer,
                    userStatus,
                    statusLogs,
                    
                    // æ¡ä»¶æ¸²æŸ“
                    isVisible,
                    currentView,
                    toggleVisibility,
                    switchView,
                    
                    // å›¾ä¹¦ç®¡ç†
                    books,
                    newBook,
                    addBook,
                    removeBook,
                    booksMessage
                };
            }
        }).mount('#app');
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–åº”ç”¨
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initApp);
        } else {
            initApp();
        }
    </script>
</body>
</html> 